(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a4a6720"],{"04fd":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),_https_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1d84");__webpack_exports__["a"]={name:"AddGrab",data:function(){return{formData:{},formRule:{contacts:[{required:!0,message:"请输入联系人",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"change"}],shelfTime:[{required:!0,message:"请选择上架时间",trigger:"blur"}],region:[{required:!0,message:"请输入地区",trigger:"blur"}],budget:[{required:!0,message:"请输入预算",trigger:"blur"}],apartment:[{required:!0,message:"请输入户型",trigger:"blur"}],preOrderedProducts:[{required:!0,message:"请输入预购产品",trigger:"blur"}],preorderTime:[{required:!0,message:"请输入预购时间",trigger:"blur"}],intentionBrand:[{required:!0,message:"请输入意向品牌",trigger:"blur"}],decorationStyle:[{required:!0,message:"请输入装修风格",trigger:"blur"}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]},queryId:""}},mounted:function(){var e=this.$route.query.grabSheetId;e&&(this.queryId=e,this.fetchData(e))},methods:{fetchData:function(e){var t=this;this.Axios.post(url+"/admin/applet/getgrabsheetbyid",{grabSheetId:e}).then((function(e){if(200==e.data.code){var r=e.data.data;t.formData={contacts:r.contacts,phone:r.phone,sex:r.sex.toString(),shelfTime:t.resolvingDate(r.shelfTime),region:r.region,budget:r.budget,apartment:r.apartment,preOrderedProducts:r.preOrderedProducts,preorderTime:t.resolvingDate(r.preorderTime),intentionBrand:r.intentionBrand,decorationStyle:r.decorationStyle,remarks:r.remarks}}}))},resolvingDate:function resolvingDate(date){var d=eval(new Date(date)),month=d.getMonth()+1<10?"0"+(d.getMonth()+1):d.getMonth()+1,day=d.getDate()<10?"0"+d.getDate():d.getDate(),hours=d.getHours()<10?"0"+d.getHours():d.getHours(),min=d.getMinutes()<10?"0"+d.getMinutes():d.getMinutes(),sec=d.getSeconds()<10?"0"+d.getSeconds():d.getSeconds(),times=d.getFullYear()+"-"+month+"-"+day+" "+hours+":"+min+":"+sec;return"string"===typeof times&&this.queryId?(times=d.getFullYear()+"-"+month+"-"+day+" 00:00:00",times):times},isPoneAvailable:function(e){var t=/^[1][3,4,5,7,8][0-9]{9}$/;return!!t.test(e)},submitForm:function(){var e=this;this.$refs["formData"].validate((function(t){if(!t)return e.$message.error("必填项不能为空!"),!1;var r=e.formData;r.preorderTime=e.resolvingDate(e.formData.preorderTime),r.shelfTime=e.resolvingDate(e.formData.shelfTime),0!=e.isPoneAvailable(r.phone)?e.queryId?(r.grabSheetId=e.queryId,e.Axios.post(url+"/admin/applet/updategrabsheet",r).then((function(t){200==t.data.code&&(e.$notify({title:"Success",message:"添加成功",type:"success",duration:1e3}),e.$router.push("./grabList"))}))):e.Axios.post(url+"/admin/applet/addgrabsheet",r).then((function(t){200==t.data.code&&(e.$notify({title:"Success",message:"添加成功",type:"success",duration:1e3}),e.$router.push("./grabList"))})):e.$message.error("请输入正确的电话号码！")}))},fromDate:function(e){new Date(e);return e}}}},"0ffb":function(e,t,r){"use strict";var a=r("8ef7"),o=r.n(a);o.a},"1d84":function(e,t,r){"use strict";var a=r("bc3a"),o=r.n(a),s=r("4328"),n=r.n(s);o.a.defaults.timeout=5e3,o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",o.a.interceptors.request.use((function(e){return"post"===e.method&&(e.data=n.a.stringify(e.data)),e}),(function(e){return console.log("错误的传参"),Promise.reject(e)})),o.a.interceptors.response.use((function(e){return e.data.success?e:Promise.resolve(e)}),(function(e){return console.log("网络异常"),Promise.reject(e)}))},"8ef7":function(e,t,r){},d028:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tinymce-container"},[r("el-form",{ref:"formData",attrs:{rules:e.formRule,"label-position":"left",model:e.formData,"label-width":"120px"}},[r("el-row",{attrs:{gutter:100}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"联系人",prop:"contacts"}},[r("el-input",{model:{value:e.formData.contacts,callback:function(t){e.$set(e.formData,"contacts",t)},expression:"formData.contacts"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{attrs:{maxlength:"11",minlength:"11"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{model:{value:e.formData.sex,callback:function(t){e.$set(e.formData,"sex",t)},expression:"formData.sex"}},[r("el-option",{attrs:{label:"男",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"女",value:"2"}})],1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:100}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"上架时间",prop:"shelfTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择上架时间"},model:{value:e.formData.shelfTime,callback:function(t){e.$set(e.formData,"shelfTime",t)},expression:"formData.shelfTime"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"地区",prop:"region"}},[r("el-input",{model:{value:e.formData.region,callback:function(t){e.$set(e.formData,"region",t)},expression:"formData.region"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"预算",prop:"budget"}},[r("el-input",{model:{value:e.formData.budget,callback:function(t){e.$set(e.formData,"budget",t)},expression:"formData.budget"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:100}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"户型",prop:"apartment"}},[r("el-input",{model:{value:e.formData.apartment,callback:function(t){e.$set(e.formData,"apartment",t)},expression:"formData.apartment"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"预购产品",prop:"preOrderedProducts"}},[r("el-input",{model:{value:e.formData.preOrderedProducts,callback:function(t){e.$set(e.formData,"preOrderedProducts",t)},expression:"formData.preOrderedProducts"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"预购时间",prop:"preorderTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择预购时间"},model:{value:e.formData.preorderTime,callback:function(t){e.$set(e.formData,"preorderTime",t)},expression:"formData.preorderTime"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:100}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"意向品牌",prop:"intentionBrand"}},[r("el-input",{model:{value:e.formData.intentionBrand,callback:function(t){e.$set(e.formData,"intentionBrand",t)},expression:"formData.intentionBrand"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"装修风格",prop:"decorationStyle"}},[r("el-input",{model:{value:e.formData.decorationStyle,callback:function(t){e.$set(e.formData,"decorationStyle",t)},expression:"formData.decorationStyle"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[r("el-input",{model:{value:e.formData.remarks,callback:function(t){e.$set(e.formData,"remarks",t)},expression:"formData.remarks"}})],1)],1)],1)],1),e._v(" "),r("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.submitForm("formData")}}},[e._v("提交")])],1)},o=[],s=r("04fd"),n=s["a"],i=(r("0ffb"),r("2877")),l=Object(i["a"])(n,a,o,!1,null,"2bb6499b",null);t["default"]=l.exports}}]);